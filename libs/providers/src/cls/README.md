# CLS Провайдер

[CLS (Continuation-local storage)](https://papooch.github.io/nestjs-cls/) провайдер представляет собой модуль, который инициализирует модуль, позволяющий работать с CLS в приложении.

CLS позволяет хранить данные на протяжении всего времени существования веб-запроса или любого другого асинхронного периода. Это похоже на локальное хранилище потоков на других языках.

## Мотивация использования

Данный модуль подключен к приложению для того чтобы избежать необходимости пробрасывания контекста между многоими слоями приложения (например, чтобы залогировать IP-адрес и ID запроса, приходится пробрасывать контекст через все слои от контроллеров до репозиториев, что ухудшает процесс дебага и поддерживания кода, поскольку приходится вручную контролировать целостность данного контекста при пробрасывании его через цепочку вызовов) или необходимости использовать **REQUEST scoped** классов (что сильно снизит скорость работы приложения, поскольку на каждый запрос будет создаваться пачка инстансов контроллеров, сервисов и т.д.).  

В свою очередь, CLS построен поверх **AsyncLocalStorage**, являющимся частью **async_hooks**, который является частью непосредственно **Node.js**.
